<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<StackPane fx:id="rootPane" style="-fx-background-color: linear-gradient(from 0% 0% to 100% 100%, #0F172A, #1E293B, #334155);"
           xmlns="http://javafx.com/javafx/17.0.12"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="trackbug.controller.LoginController">

    <!-- Background Elements -->
    <Group>
        <Circle centerX="${rootPane.width * 0.2}" centerY="${rootPane.height * 0.3}" fill="#3B82F6" opacity="0.15" radius="${rootPane.width * 0.3}">
            <effect>
                <GaussianBlur radius="150" />
            </effect>
        </Circle>
        <Circle centerX="${rootPane.width * 0.8}" centerY="${rootPane.height * 0.7}" fill="#2563EB" opacity="0.15" radius="${rootPane.width * 0.25}">
            <effect>
                <GaussianBlur radius="150" />
            </effect>
        </Circle>
    </Group>

    <ScrollPane fitToHeight="true" fitToWidth="true" style="-fx-background: transparent; -fx-background-color: transparent; -fx-padding: 0;">
        <BorderPane>
            <top>
                <VBox alignment="TOP_CENTER" spacing="32.0">
                    <padding>
                        <Insets bottom="30" top="50" />
                    </padding>

                    <!-- Logo -->
                    <StackPane>
                        <Group />
                    </StackPane>

                    <!-- Title Section -->
                    <VBox alignment="CENTER" spacing="12">
                        <Label text="TrackBug" textFill="WHITE">
                            <font>
                                <Font name="Inter Black" size="64.0" />
                            </font>
                            <effect>
                                <DropShadow color="#00000095" radius="30" spread="0.25">
                                    <input>
                                        <Bloom threshold="0.7" />
                                    </input>
                                </DropShadow>
                            </effect>
                            <graphic>
                                <Label style="-fx-font-size: 48;" text="🐞" textFill="WHITE">
                                    <effect>
                                        <DropShadow color="#2563EB" radius="30" spread="0.2">
                                            <input>
                                                <Glow level="0.6" />
                                            </input>
                                        </DropShadow>
                                    </effect>
                                </Label>
                            </graphic>
                        </Label>
                        <Label text="Sistema Inteligente de Gestão de Projetos" textFill="#94A3B8">
                            <font>
                                <Font name="Inter Medium" size="20.0" />
                            </font>
                            <effect>
                                <Bloom threshold="0.85" />
                            </effect>
                        </Label>
                    </VBox>
                </VBox>
            </top>

            <center>
                <VBox alignment="TOP_CENTER" spacing="25">
                    <!-- Login Card -->
                    <VBox alignment="TOP_CENTER"
                          maxWidth="500.0"
                          minWidth="300.0"
                          prefWidth="${rootPane.width * 0.4}"
                          spacing="40"
                          style="-fx-background-color: linear-gradient(to bottom right, #FFFFFF, #F8FAFC);
                                 -fx-padding: 48 45;
                                 -fx-background-radius: 28;
                                 -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 70, 0, 0, 30);">

                        <!-- Welcome Section -->
                        <VBox alignment="CENTER" spacing="16">
                            <Label text="Bem-vindo" textFill="#0F172A">
                                <font>
                                    <Font name="Inter Black" size="42" />
                                </font>
                                <effect>
                                    <DropShadow color="#00000050" radius="18" spread="0.15" />
                                </effect>
                            </Label>
                            <Label alignment="CENTER" text="Gerencie seus projetos com eficiência e precisão"
                                   textFill="#64748B" wrapText="true">
                                <font>
                                    <Font name="Inter SemiBold" size="18" />
                                </font>
                            </Label>
                        </VBox>

                        <!-- Alert Box -->
                        <VBox fx:id="alertBox" managed="false" visible="false">
                            <HBox alignment="CENTER_LEFT" spacing="16"
                                  style="-fx-background-color: linear-gradient(to right, #FEF2F2, #FFE4E4);
                                        -fx-padding: 22 26;
                                        -fx-background-radius: 20;">
                                <Label style="-fx-font-size: 24;" text="⚠️" />
                                <Label fx:id="mensagemErro" textFill="#DC2626" wrapText="true">
                                    <font>
                                        <Font name="Inter Bold" size="16" />
                                    </font>
                                </Label>
                            </HBox>
                        </VBox>

                        <!-- Input Fields -->
                        <VBox spacing="32" VBox.vgrow="ALWAYS">
                            <!-- Username Field -->
                            <VBox spacing="14">
                                <Label text="Nome de Usuário" textFill="#334155">
                                    <font>
                                        <Font name="Inter SemiBold" size="16" />
                                    </font>
                                </Label>
                                <HBox alignment="CENTER_LEFT" spacing="14"
                                      style="-fx-background-color: #F1F5F9;
                                            -fx-padding: 0 18;
                                            -fx-background-radius: 14;
                                            -fx-border-color: #E2E8F0;
                                            -fx-border-radius: 14;
                                            -fx-border-width: 1.5;">
                                    <Label style="-fx-font-size: 20;" text="👤" textFill="#64748B" />
                                    <TextField fx:id="usernameField" promptText="Digite seu nome de usuário"
                                               style="-fx-background-color: transparent;
                                                    -fx-padding: 16 12;
                                                    -fx-prompt-text-fill: #94A3B8;
                                                    -fx-text-fill: #0F172A;
                                                    -fx-font-size: 15;
                                                    -fx-font-family: 'Inter Medium';"
                                               HBox.hgrow="ALWAYS" />
                                </HBox>
                            </VBox>

                            <!-- Password Field -->
                            <VBox spacing="14">
                                <Label text="Senha" textFill="#334155">
                                    <font>
                                        <Font name="Inter SemiBold" size="16" />
                                    </font>
                                </Label>
                                <HBox alignment="CENTER_LEFT" spacing="14"
                                      style="-fx-background-color: #F1F5F9;
                                            -fx-padding: 0 18;
                                            -fx-background-radius: 14;
                                            -fx-border-color: #E2E8F0;
                                            -fx-border-radius: 14;
                                            -fx-border-width: 1.5;">
                                    <Label style="-fx-font-size: 20;" text="🔒" textFill="#64748B" />
                                    <PasswordField fx:id="passwordField" promptText="Digite sua senha"
                                                   style="-fx-background-color: transparent;
                                                        -fx-padding: 16 12;
                                                        -fx-prompt-text-fill: #94A3B8;
                                                        -fx-text-fill: #0F172A;
                                                        -fx-font-size: 15;
                                                        -fx-font-family: 'Inter Medium';"
                                                   HBox.hgrow="ALWAYS" />
                                </HBox>
                            </VBox>
                        </VBox>

                        <!-- Login Button -->
                        <Button fx:id="loginButton" defaultButton="true" maxWidth="Infinity"
                                onAction="#realizarLogin"
                                style="-fx-background-color: linear-gradient(to right, #3B82F6, #2563EB, #1D4ED8);
                                       -fx-background-radius: 14;
                                       -fx-cursor: hand;
                                       -fx-padding: 18 36;">
                            <graphic>
                                <HBox alignment="CENTER" spacing="14">
                                    <Label text="Entrar" textFill="WHITE">
                                        <font>
                                            <Font name="Inter Black" size="17" />
                                        </font>
                                    </Label>
                                </HBox>
                            </graphic>
                            <effect>
                                <DropShadow color="#3B82F670" radius="25" spread="0.2" />
                            </effect>
                        </Button>
                    </VBox>
                    <padding>
                        <Insets left="20" right="20" />
                    </padding>
                </VBox>
            </center>

            <bottom>
                <VBox alignment="CENTER" spacing="16">
                    <padding>
                        <Insets bottom="40" />
                    </padding>
                    <Label text="© 2024 TrackBug. Todos os direitos reservados" textFill="#94A3B8">
                        <font>
                            <Font name="Inter SemiBold" size="16" />
                        </font>
                        <effect>
                            <Bloom threshold="0.85" />
                        </effect>
                    </Label>
                </VBox>
            </bottom>
        </BorderPane>
    </ScrollPane>
</StackPane>