<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.Group?>
<?import javafx.animation.*?>

<StackPane xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="trackbug.controller.LoginController"
           style="-fx-background-color: linear-gradient(from 0% 0% to 100% 100%, #0F172A, #1E293B, #334155);">

    <!-- Animated Background Elements -->
    <Group>
        <Circle centerX="200" centerY="200" radius="300" opacity="0.15" fill="#3B82F6">
            <effect>
                <GaussianBlur radius="150"/>
            </effect>
        </Circle>
        <Circle centerX="800" centerY="600" radius="250" opacity="0.15" fill="#2563EB">
            <effect>
                <GaussianBlur radius="150"/>
            </effect>
        </Circle>
        <!-- Floating particles -->
        <fx:define>
            <Timeline fx:id="particleAnimation" cycleCount="INDEFINITE">
                <keyframes>
                    <KeyFrame>
                        <keyValue>
                            <Circle centerX="100" centerY="100" radius="4" opacity="0.2" fill="WHITE">
                                <effect>
                                    <Glow level="0.8"/>
                                </effect>
                            </Circle>
                        </keyValue>
                    </KeyFrame>
                </keyframes>
            </Timeline>
        </fx:define>
    </Group>

    <BorderPane>
        <top>
            <VBox alignment="TOP_CENTER" spacing="32.0">
                <padding>
                    <Insets top="50" bottom="30"/>
                </padding>

                <!-- Enhanced Logo Animation -->
                <StackPane>
                    <Group>
                        <Circle radius="60" fill="linear-gradient(to right, #3B82F6, #2563EB, #1D4ED8)">
                            <effect>
                                <DropShadow color="#00000090" radius="35" spread="0.3"/>
                            </effect>
                        </Circle>
                        <Label text="🐞" style="-fx-font-size: 48;" textFill="WHITE">
                            <effect>
                                <DropShadow color="#2563EB" radius="30" spread="0.2">
                                    <input>
                                        <Glow level="0.6"/>
                                    </input>
                                </DropShadow>
                            </effect>
                        </Label>
                    </Group>
                </StackPane>

                <!-- Enhanced Title Section -->
                <VBox alignment="CENTER" spacing="12">
                    <Label text="TrackBug" textFill="WHITE">
                        <font>
                            <Font name="Inter Black" size="64.0"/>
                        </font>
                        <effect>
                            <DropShadow color="#00000095" radius="30" spread="0.25">
                                <input>
                                    <Bloom threshold="0.7"/>
                                </input>
                            </DropShadow>
                        </effect>
                    </Label>
                    <Label text="Sistema Inteligente de Gestão de Projetos" textFill="#94A3B8">
                        <font>
                            <Font name="Inter Medium" size="20.0"/>
                        </font>
                        <effect>
                            <Bloom threshold="0.85"/>
                        </effect>
                    </Label>
                </VBox>
            </VBox>
        </top>

        <center>
            <VBox alignment="TOP_CENTER" maxWidth="520" spacing="25">
                <!-- Enhanced Login Card -->
                <VBox alignment="TOP_CENTER" spacing="40"
                      style="-fx-background-color: linear-gradient(to bottom right, #FFFFFF, #F8FAFC);
                             -fx-padding: 48 45;
                             -fx-background-radius: 28;
                             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 70, 0, 0, 30);">

                    <!-- Welcome Section -->
                    <VBox spacing="16" alignment="CENTER">
                        <Label text="Bem-vindo" textFill="#0F172A">
                            <font>
                                <Font name="Inter Black" size="42"/>
                            </font>
                            <effect>
                                <DropShadow color="#00000050" radius="18" spread="0.15"/>
                            </effect>
                        </Label>
                        <Label text="Gerencie seus projetos com eficiência e precisão"
                               textFill="#64748B" alignment="CENTER" wrapText="true">
                            <font>
                                <Font name="Inter SemiBold" size="18"/>
                            </font>
                        </Label>
                    </VBox>

                    <!-- Enhanced Alert Box -->
                    <VBox fx:id="alertBox" visible="false" managed="false">
                        <HBox spacing="16" alignment="CENTER_LEFT"
                              style="-fx-background-color: linear-gradient(to right, #FEF2F2, #FFE4E4);
                                     -fx-padding: 22 26;
                                     -fx-background-radius: 20;">
                            <Label text="⚠️" style="-fx-font-size: 24;"/>
                            <Label fx:id="mensagemErro" textFill="#DC2626" wrapText="true">
                                <font>
                                    <Font name="Inter Bold" size="16"/>
                                </font>
                            </Label>
                        </HBox>
                    </VBox>

                    <!-- Enhanced Input Fields -->
                    <VBox spacing="32">
                        <!-- Username Field -->
                        <VBox spacing="14">
                            <Label text="Nome de Usuário" textFill="#334155">
                                <font>
                                    <Font name="Inter SemiBold" size="16"/>
                                </font>
                            </Label>
                            <HBox alignment="CENTER_LEFT" spacing="14"
                                  style="-fx-background-color: #F1F5F9;
                                         -fx-padding: 0 18;
                                         -fx-background-radius: 14;
                                         -fx-border-color: #E2E8F0;
                                         -fx-border-radius: 14;
                                         -fx-border-width: 1.5;">
                                <Label text="👤" style="-fx-font-size: 20;" textFill="#64748B"/>
                                <TextField fx:id="usernameField" promptText="Digite seu nome de usuário"
                                           style="-fx-background-color: transparent;
                                                -fx-padding: 16 12;
                                                -fx-prompt-text-fill: #94A3B8;
                                                -fx-text-fill: #0F172A;
                                                -fx-font-size: 15;
                                                -fx-font-family: 'Inter Medium';"
                                           prefWidth="320"/>
                            </HBox>
                        </VBox>

                        <!-- Password Field -->
                        <VBox spacing="14">
                            <Label text="Senha" textFill="#334155">
                                <font>
                                    <Font name="Inter SemiBold" size="16"/>
                                </font>
                            </Label>
                            <HBox alignment="CENTER_LEFT" spacing="14"
                                  style="-fx-background-color: #F1F5F9;
                                         -fx-padding: 0 18;
                                         -fx-background-radius: 14;
                                         -fx-border-color: #E2E8F0;
                                         -fx-border-radius: 14;
                                         -fx-border-width: 1.5;">
                                <Label text="🔒" style="-fx-font-size: 20;" textFill="#64748B"/>
                                <PasswordField fx:id="passwordField" promptText="Digite sua senha"
                                               style="-fx-background-color: transparent;
                                                    -fx-padding: 16 12;
                                                    -fx-prompt-text-fill: #94A3B8;
                                                    -fx-text-fill: #0F172A;
                                                    -fx-font-size: 15;
                                                    -fx-font-family: 'Inter Medium';"
                                               prefWidth="320"/>
                            </HBox>
                        </VBox>
                    </VBox>

                    <!-- Enhanced Login Button -->
                    <Button fx:id="loginButton" defaultButton="true" onAction="#realizarLogin"
                            style="-fx-background-color: linear-gradient(to right, #3B82F6, #2563EB, #1D4ED8);
                                   -fx-background-radius: 14;
                                   -fx-cursor: hand;
                                   -fx-padding: 18 36;">
                        <graphic>
                            <HBox alignment="CENTER" spacing="14">
                                <Label text="Entrar" textFill="WHITE">
                                    <font>
                                        <Font name="Inter Black" size="17"/>
                                    </font>
                                </Label>
                            </HBox>
                        </graphic>
                        <effect>
                            <DropShadow color="#3B82F670" radius="25" spread="0.2"/>
                        </effect>
                    </Button>
                </VBox>
            </VBox>
        </center>

        <bottom>
            <VBox alignment="CENTER" spacing="16" style="-fx-padding: 0 0 40 0;">
                <Label text="© 2024 TrackBug. Todos os direitos reservados" textFill="#94A3B8">
                    <font>
                        <Font name="Inter SemiBold" size="16"/>
                    </font>
                    <effect>
                        <Bloom threshold="0.85"/>
                    </effect>
                </Label>
            </VBox>
        </bottom>
    </BorderPane>
</StackPane>